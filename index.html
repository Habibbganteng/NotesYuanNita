<html>
    <head>
        <title>Nota Butik Yuan Nita Fashion</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!--Style-->
        <style>
            body{
                font-family: 'Segoe UI';
                background: linear-gradient(135deg, #fcef3a, #e3e4d1);
            }
@media (max-width: 600px) {
  .nota-header h2 {
    font-size: 18px;
  }
  .nota-header p {
    font-size: 14px;
  }
}

#Info {
    text-align: center;
    margin-bottom: 60px;
}

#Info input {
 
  width: 100%;             /* full lebar cell */
  padding: 4px 6px;
  font-size: 25px;         /* lebih besar, adjust sesuai selera */
  border: 1px solid #f4b400;
  border-radius: 4px;
  box-sizing: border-box;  /* padding ga nambah lebar total */
border: none;
border-bottom: 2px solid #f4b400;
border-radius: 0;
background: transparent;
text-align: center;
}


#Rek {
    text-align: center;
    font-family: 'Courier New', Courier, monospace;
}

#Payment {
    color: #0f0f05;
    text-align: center;
    margin-top: 50px;
}

#Payment img {
  width: 80%;           /* max lebar 80% parent */
  max-width: 300px;     /* di desktop maksimal 300px biar ga terlalu besar */
  height: auto;
  display: block;
  margin: 0 auto;
}

#nota {
  background: linear-gradient(135deg, #fffbe6, #f4b400);
  padding: 20px;
  border-radius: 20px;
  border: 20px yellow;
}

.nota-header {
  text-align: center; /* biar logo di tengah */
  margin-bottom: 10px;
}

.nota-header img {
  width: 300px;   /* bisa gedein kalau mau */
  height: auto;
  object-fit: contain;
}

.info-toko {
  text-align: center; /* info toko juga tengah biar rapi */
  margin-bottom: 10px;
}


#judul {
    color: black;
    text-align: center;
}

#tombol {
    text-align: center;
    margin-top: 20px;
}

button {
    display: inline;
    margin: 5px;
    background-color: #ffffff;
    border: none;
    padding: 8px 16px;
    font-size: 16px;
    border-radius: 8px;
    cursor: pointer;
    margin: 5px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    transition: background-color 0.3s;
}

button:hover {
    background-color: yellow;
}

table {
  width: 100%;
  max-width: 600px;
  margin: auto;
  border-collapse: separate;
  border-spacing: 0;
  border: 1px solid #ffffff;  /* frame luar tabel */
  border-radius: 8px;
  overflow: hidden;
}

thead {
  background-color: #f4b400; /* gold */
  color: white;
}

th, td {
  border: 1px solid #f0eee8; /* gold tipis */
  padding: 8px 12px;
  text-align: left;
}

tbody tr:hover {
  background-color: #fff9e6; /* kuning pastel muda saat hover */
}
        </style>



    </head>
    <body>
        <!--JUDUL-->
        <div id="judul">
        <h1>NOTA PEMBELIAN</h1>
        </div>

        <!--Logo Butik-->
        <img>


        <!--INFORMASI PEMBELI-->


        <div id="nota">
<div id="nota">
  <div class="nota-header">
  <img src="image.png" alt="Logo Butik">
</div>
<div class="info-toko">
  <h2>Yuan Nita Fashion</h2>
  <p>Jl. Husein Palela, Merauke 99615</p>
  <p>Telp: 0811-4942-288</p>
</div>
  
  <!-- tabel & isi nota di bawahnya -->

  <!--Informasi Pembeli-->
<div id="Info">
<h2>Nama Pembeli</h2> 
<input type="text" placeholder="Masukkan Nama">
</div>

</div><br>

  <table id="myTable" border="1">
    <thead>
      <tr>
        <th>Nama Barang</th>
        <th>Jumlah</th>
        <th>Harga</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td contenteditable="true">Barang A</td>
        <td contenteditable="true">2</td>
        <td contenteditable="true">100</td>
        <td>200</td>
      </tr>
      <tr>
        <td contenteditable="true">Barang B</td>
        <td contenteditable="true">3</td>
        <td contenteditable="true">150</td>
        <td>450</td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="3" style="text-align:right;"><strong>Total Semua:</strong></td>
        <td id="grandTotal">0</td>
      </tr>
    </tfoot>
  </table>

  


  <!--Metode Pembayaran-->
  <div id="Payment">
  <h1> Payment Method</h1>
  <img src="Payment.png" alt="Payment">
  </div>
<div id="Rek">
  <h1>8316-0015-51</h1>
</div>
</div>

<br>

<!--TOMBOL-->
<div id="tombol">
<button onclick="saveAsImage()">Simpan Sebagai Gambar</button>
<button onclick="addRow()">Tambah Baris</button>
<button onclick="hitungGrandTotal()">Hitung Total Semua</button>
</div>

<script>
// update total per baris kalau ada perubahan
document.querySelectorAll('#myTable tbody td[contenteditable="true"]').forEach(cell => {
  cell.addEventListener('input', updateAllTotals);
});

function updateAllTotals() {
  var table = document.getElementById("myTable");
  var tbody = table.tBodies[0];

  for (var i = 0; i < tbody.rows.length; i++) {
    var row = tbody.rows[i];
    var qty = parseInt(row.cells[1].textContent.trim()) || 0;   // Jumlah
    var harga = parseInt(row.cells[2].textContent.trim()) || 0; // Harga
    var total = qty * harga;
    row.cells[3].textContent = total;
  }
}

function hitungGrandTotal() {
  var table = document.getElementById("myTable");
  var total = 0;

  // loop setiap baris tbody
  for (var i = 0; i < table.tBodies[0].rows.length; i++) {
    var row = table.tBodies[0].rows[i];
    var value = parseInt(row.cells[3].textContent.trim()) || 0; // kolom Total
    total += value;
  }

  document.getElementById("grandTotal").textContent = total;
}

function addRow() {
  var table = document.getElementById("myTable");
  var tbody = table.tBodies[0];
  var newRow = tbody.insertRow();

  // Nama Barang
  var cell1 = newRow.insertCell(0);
  cell1.contentEditable = "true";
  cell1.textContent = "Barang Baru";

  // Jumlah
  var cell2 = newRow.insertCell(1);
  cell2.contentEditable = "true";
  cell2.textContent = "0";

  // Harga
  var cell3 = newRow.insertCell(2);
  cell3.contentEditable = "true";
  cell3.textContent = "0";

  // Total
  var cell4 = newRow.insertCell(3);
  cell4.textContent = "0";

  // Tambahkan listener biar otomatis hitung
  [cell2, cell3].forEach(cell => {
    cell.addEventListener('input', updateAllTotals);
  });
}
</script>


<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script>
function saveAsImage() {
  var element = document.getElementById("nota");
  html2canvas(element).then(function(canvas) {
    var link = document.createElement("a");
    link.download = "nota.png";
    link.href = canvas.toDataURL("image/png");
    link.click();
  });
}
</script>
    </body>

</html>
